
var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p];};return extendStatics(d,b);};return function(d,b){if(typeof b!=="function"&&b!==null)
throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();var KeyboardKey;(function(KeyboardKey){KeyboardKey["SoftLeft"]="SoftLeft";KeyboardKey["Enter"]="Enter";KeyboardKey["SoftRight"]="SoftRight";KeyboardKey["ArrowRight"]="ArrowRight";KeyboardKey["ArrowUp"]="ArrowUp";KeyboardKey["ArrowLeft"]="ArrowLeft";KeyboardKey["ArrowDown"]="ArrowDown";KeyboardKey["Call"]="Call";KeyboardKey["Backspace"]="Backspace";})(KeyboardKey||(KeyboardKey={}));var KeyboardListener;(function(KeyboardListener){var methods={};document.addEventListener('keydown',function(event){if(KeyboardKey[event.key]&&methods[event.key]){if(event.key==KeyboardKey.Backspace)
event.preventDefault();methods[event.key]();}});function bind(key,method){methods[key]=method;}
KeyboardListener.bind=bind;})(KeyboardListener||(KeyboardListener={}));var KaiUI;(function(KaiUI){var SoftkeyHandler=(function(){function SoftkeyHandler(){this.element=new ReactiveElement({selector:'#kai-softkey-container',data:{labelLeft:'',labelCenter:'',labelRight:''},template:"\n\t\t\t\t<label class=\"kai-softkey-left\">{{labelLeft}}</label>\n\t\t\t\t<label class=\"kai-softkey-center\">{{labelCenter}}</label>\n\t\t\t\t<label class=\"kai-softkey-right\">{{labelRight}}</label>\n\t\t\t"});}
Object.defineProperty(SoftkeyHandler.prototype,"visible",{get:function(){var _a;return(_a=this.element.innerElement)===null||_a===void 0?void 0:_a.classList.contains('hidden');},set:function(value){var _a,_b;switch(value){case false:(_a=this.element.innerElement)===null||_a===void 0?void 0:_a.classList.add('hidden');break;case true:(_b=this.element.innerElement)===null||_b===void 0?void 0:_b.classList.remove('hidden');break;}},enumerable:false,configurable:true});SoftkeyHandler.prototype.bind=function(key,label,method){switch(key){case KeyboardKey.SoftLeft:this.element.labelLeft=label;break;case KeyboardKey.Enter:this.element.labelCenter=label;break;case KeyboardKey.SoftRight:this.element.labelRight=label;break;};KeyboardListener.bind(key,method.bind(this));};SoftkeyHandler.prototype.clear=function(){this.element.reset();};return SoftkeyHandler;}());KaiUI.SoftkeyHandler=SoftkeyHandler;var ViewManager=(function(){function ViewManager(){this.stack=[];this.element=new ReactiveElement({selector:'#kai-view-container',data:{content:''},template:'{{content}}'});}
ViewManager.prototype.back=function(){var previous=this.stack.pop();if(this.stack.length==0){window.close();}
else{this.update();}
return previous;};Object.defineProperty(ViewManager.prototype,"current",{get:function(){return this.stack[this.stack.length-1];},set:function(view){this.stack.push(view);this.update();},enumerable:false,configurable:true});ViewManager.prototype.update=function(){var _this=this;var _a;(_a=this.element.innerElement)===null||_a===void 0?void 0:_a.classList.add('transitioning');this.element.innerElement.addEventListener('transitionend',function(){var _a;_this.current.init();_this.element.content=_this.current.template;(_a=_this.element.innerElement)===null||_a===void 0?void 0:_a.classList.remove('transitioning');},{once:true});};return ViewManager;}());KaiUI.ViewManager=ViewManager;var View=(function(_super){__extends(View,_super);function View(title,secondary,init){if(title===void 0){title='';}
if(secondary===void 0){secondary=false;}
if(init===void 0){init=function(){};}
var _this=_super.call(this,{data:{title:title,secondary:secondary?' secondary':'',content:''},template:"\n\t\t\t\t\t<div class=\"kai-view{{secondary}}\">\n\t\t\t\t\t\t<div class=\"kai-view-header\">{{title}}</div>\n\t\t\t\t\t\t<div class=\"kai-view-content\">{{content}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t"})||this;_this.init=init;return _this;}
return View;}(ReactiveElement));KaiUI.View=View;})(KaiUI||(KaiUI={}));