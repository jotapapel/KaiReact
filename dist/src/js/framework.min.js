var KeyboardKey,KeyboardListener,KaiUI,ReactiveElement=function(){function e(n){var r=this,i=(this.rawData={},this.render(n.template));this.innerElement=n.selector?document.querySelector(n.selector):void 0,Object.keys(n.data).forEach(function(e){var t=n.data[e];r.rawData[e]=t,Object.defineProperty(r,e,{get:function(){return t},set:function(e){t=e,i()}})}),i()}return e.prototype.render=function(t){var n=this;return function(){var e=t.replace(/\{\{(.*)\}\}/g,function(e,t){return n[t]});n.template=e.replace(/[\r\n\t]/g,"").trim(),n.innerElement&&(n.innerElement.innerHTML=n.template)}},e.prototype.reset=function(){var t=this;Object.keys(this.rawData).forEach(function(e){t[e]=t.rawData[e]})},e}(),__extends=this&&this.__extends||function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){e.SoftLeft="SoftLeft",e.Enter="Enter",e.SoftRight="SoftRight",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.ArrowLeft="ArrowLeft",e.ArrowDown="ArrowDown",e.Call="Call",e.Backspace="Backspace"}(KeyboardKey=KeyboardKey||{}),function(e){var n={};document.addEventListener("keydown",function(e){KeyboardKey[e.key]&&n[e.key]&&(e.key==KeyboardKey.Backspace&&e.preventDefault(),n[e.key]())}),e.bind=function(e,t){n[e]=t},e.clear=function(e){"string"==typeof e?delete n[e]:e.forEach(function(e){delete n[e]})}}(KeyboardListener=KeyboardListener||{}),function(e){function t(){this.element=new ReactiveElement({selector:"#kai-softkey-container",data:{labelLeft:"",labelCenter:"",labelRight:""},template:'\n\t\t\t\t<label class="kai-softkey-left">{{labelLeft}}</label>\n\t\t\t\t<label class="kai-softkey-center">{{labelCenter}}</label>\n\t\t\t\t<label class="kai-softkey-right">{{labelRight}}</label>\n\t\t\t'})}function n(){this.stack=[],this.element=new ReactiveElement({selector:"#kai-view-container",data:{content:""},template:"{{content}}"})}Object.defineProperty(t.prototype,"visible",{get:function(){var e;return null==(e=this.element.innerElement)?void 0:e.classList.contains("hidden")},set:function(e){var t;switch(e){case!1:null!=(t=this.element.innerElement)&&t.classList.add("hidden");break;case!0:null!=(t=this.element.innerElement)&&t.classList.remove("hidden")}},enumerable:!1,configurable:!0}),t.prototype.bind=function(e,t,n){switch(e){case KeyboardKey.SoftLeft:this.element.labelLeft=t;break;case KeyboardKey.Enter:this.element.labelCenter=t;break;case KeyboardKey.SoftRight:this.element.labelRight=t}KeyboardListener.bind(e,n.bind(this))},t.prototype.clear=function(e){void 0===e&&(e=!0),KeyboardListener.clear([KeyboardKey.SoftLeft,KeyboardKey.Enter,KeyboardKey.SoftRight]),this.element.reset(),this.visible=e},e.SoftkeyHandler=t,n.prototype.back=function(){var e;if(1!=this.stack.length)return e=this.stack.pop(),this.update(),e;window.close()},Object.defineProperty(n.prototype,"current",{get:function(){return this.stack[this.stack.length-1]},set:function(e){this.stack.push(e),this.update()},enumerable:!1,configurable:!0}),n.prototype.update=function(){var e,t=this;null!=(e=this.element.innerElement)&&e.classList.add("transitioning"),this.element.innerElement.addEventListener("transitionend",function(){var e;t.current.init(),t.element.content=t.current.template,null!=(e=t.element.innerElement)&&e.classList.remove("transitioning")},{once:!0})},e.ViewManager=n;__extends(a,r=ReactiveElement);var r,i=a;function a(e,t,n){void 0===n&&(n=function(){});e=r.call(this,{data:{title:e=void 0===e?"":e,secondary:(t=void 0===t?!1:t)?" secondary":"",content:""},template:'<div class="kai-view{{secondary}}">\n\t\t\t\t\t<div class="kai-view-header">{{title}}</div>\n\t\t\t\t\t<div class="kai-view-content">{{content}}</div>\n\t\t\t\t</div>'})||this;return e.init=n,e}e.View=i}(KaiUI=KaiUI||{});